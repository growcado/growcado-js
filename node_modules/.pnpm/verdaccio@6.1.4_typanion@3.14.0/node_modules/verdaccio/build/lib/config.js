"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _config = require("@verdaccio/config");
var _utils = require("@verdaccio/utils");
class Config extends _config.Config {
  constructor(config) {
    config.configPath = config.self_path;
    super(config, {
      forceMigrateToSecureLegacySignature: false
    });
    // Temporary solution for plugins that depends on legacy configuration files
    // @ts-ignore
    this.getMatchedPackagesSpec = pkgName => {
      return (0, _utils.getMatchedPackagesSpec)(pkgName, this.packages);
    };
  }
}
var _default = exports.default = Config;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29uZmlnIiwicmVxdWlyZSIsIl91dGlscyIsIkNvbmZpZyIsIkNvbmZpZ0NvcmUiLCJjb25zdHJ1Y3RvciIsImNvbmZpZyIsImNvbmZpZ1BhdGgiLCJzZWxmX3BhdGgiLCJmb3JjZU1pZ3JhdGVUb1NlY3VyZUxlZ2FjeVNpZ25hdHVyZSIsImdldE1hdGNoZWRQYWNrYWdlc1NwZWMiLCJwa2dOYW1lIiwicGFja2FnZXMiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJkZWZhdWx0Il0sInNvdXJjZXMiOlsiLi4vLi4vc3JjL2xpYi9jb25maWcudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29uZmlnIGFzIENvbmZpZ0NvcmUgfSBmcm9tICdAdmVyZGFjY2lvL2NvbmZpZyc7XG5pbXBvcnQgeyBnZXRNYXRjaGVkUGFja2FnZXNTcGVjIH0gZnJvbSAnQHZlcmRhY2Npby91dGlscyc7XG5cbmNsYXNzIENvbmZpZyBleHRlbmRzIENvbmZpZ0NvcmUge1xuICBwdWJsaWMgY29uc3RydWN0b3IoY29uZmlnOiBhbnkpIHtcbiAgICBjb25maWcuY29uZmlnUGF0aCA9IGNvbmZpZy5zZWxmX3BhdGg7XG4gICAgc3VwZXIoY29uZmlnLCB7IGZvcmNlTWlncmF0ZVRvU2VjdXJlTGVnYWN5U2lnbmF0dXJlOiBmYWxzZSB9KTtcbiAgICAvLyBUZW1wb3Jhcnkgc29sdXRpb24gZm9yIHBsdWdpbnMgdGhhdCBkZXBlbmRzIG9uIGxlZ2FjeSBjb25maWd1cmF0aW9uIGZpbGVzXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHRoaXMuZ2V0TWF0Y2hlZFBhY2thZ2VzU3BlYyA9IChwa2dOYW1lKSA9PiB7XG4gICAgICByZXR1cm4gZ2V0TWF0Y2hlZFBhY2thZ2VzU3BlYyhwa2dOYW1lLCB0aGlzLnBhY2thZ2VzKTtcbiAgICB9O1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbmZpZztcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsTUFBQSxHQUFBRCxPQUFBO0FBRUEsTUFBTUUsTUFBTSxTQUFTQyxjQUFVLENBQUM7RUFDdkJDLFdBQVdBLENBQUNDLE1BQVcsRUFBRTtJQUM5QkEsTUFBTSxDQUFDQyxVQUFVLEdBQUdELE1BQU0sQ0FBQ0UsU0FBUztJQUNwQyxLQUFLLENBQUNGLE1BQU0sRUFBRTtNQUFFRyxtQ0FBbUMsRUFBRTtJQUFNLENBQUMsQ0FBQztJQUM3RDtJQUNBO0lBQ0EsSUFBSSxDQUFDQyxzQkFBc0IsR0FBSUMsT0FBTyxJQUFLO01BQ3pDLE9BQU8sSUFBQUQsNkJBQXNCLEVBQUNDLE9BQU8sRUFBRSxJQUFJLENBQUNDLFFBQVEsQ0FBQztJQUN2RCxDQUFDO0VBQ0g7QUFDRjtBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBQyxPQUFBLEdBRWNaLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=